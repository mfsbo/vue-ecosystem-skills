---
number: 1769
title: "Bug: Testing handlers should not require that you add parentheses"
type: bug
state: closed
created: 2022-09-13
url: "https://github.com/vuejs/test-utils/issues/1769"
reactions: 3
comments: 10
labels: "[bug, needs reproduction]"
---

# Bug: Testing handlers should not require that you add parentheses




**Describe the bug**
Right now if you have a child component that handles an emitted event by calling a function in the parent component, it will just fail if you don't add parenthesis to the event handler name.

**To Reproduce**
This doesn't work:

```html
<MainSidebar
  :menu-items="menuItems"
  @expanded="handleExpanded"
/>
```

This works:

```html
<MainSidebar
  :menu-items="menuItems"
  @expanded="(value) => handleExpanded(value)"
/>
```

I just found out about this unexpected behaviour by chance.
It's weird because in the Vue docs they use the non-parentheses version all over the place.

**Expected behavior**
This should work:

```html
<MainSidebar
  :menu-items="menuItems"
  @expanded="handleExpanded"
/>
```...

---

## Top Comments

**@freakzlike** [maintainer]:

I use `@expanded="handleExpanded"` without issues. Can you provide the code of your test case where you have this issue?

**@cexbrayat** [maintainer] (+1):

@lobo-tuerto Yes, a small repro would be great 

You can use https://stackblitz.com/edit/vitest-dev-vitest-pheruf?file=package.json to build one online in a few minutes.

**@cexbrayat** [maintainer]:

Thanks for the repro. I think this might be a tricky one. I suppose there is something going on with the spy that can't catch the call to the listener if there are no parenthesis as the code generated by Vue is `{ onClick: onClick }` for `@click="onClick"` and `{ onClick: $event => (onClick()) }` for `@click="onClick()"`

We already had a similar discussion in https://github.com/vuejs/test-utils/issues/775 and I don't think we can do much on our side...