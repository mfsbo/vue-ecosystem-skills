---
number: 13031
title: Typed defineSlots with mapped types сauses ts error
type: other
state: closed
created: 2025-03-13
url: "https://github.com/vuejs/core/issues/13031"
reactions: 20
comments: 2
resolvedIn: 3.0.0
labels: "[scope: types]"
---

# Typed defineSlots with mapped types сauses ts error

### Vue version

^3.5.13

### Link to minimal reproduction

https://stackblitz.com/edit/vitejs-vite-cwo16alf?file=src%2Fcomponents%2FMyList.vue

### Steps to reproduce

Create and use component MyList

```vue
<script
  lang="ts"
  setup
  generic="T extends Record<string, unknown>, K extends keyof T"
>
  import { VNode } from 'vue'

  defineProps<{
    list: T[]
  }>()

  defineSlots<
    {
      [PropName in K]: (props: { rowData: T }) => VNode[]
    } & {
      footer: () => VNode[]
    }
  >()

  const getKeys = (data: T):K[] =>{
   return Object.keys(data) as K[]
  }
</script>

<template>
  
  <ol v-for="(item, index) in list" :key="index">
    <li v-for="key in getKeys(item)" :key="key">
      <slot :name="key" :rowData="item" />
    </li>
  </ol>

  <slot name="footer" />
</template>

```

Run `vue-tsc` for type-checking

### What is expected?

Component slots become type-safe, no error occured

### What is actually happening?

```log
`> vue-tsc --noEmit

src/components/MyList.vue:28:8 - error TS2345: Argument of type '{ rowData: T; }' is not assignable to parameter of type 'NonNullable<(Readonly<{ [PropName in K]: (props: { rowData: T; }) => VNode<RendererNode, RendererElement, { [key: string]: any; }>[]; } & { footer: () => VNode<RendererNode, RendererElement, { ...; }>[]; }> & { [PropName in K]: (props: { ...; }) => VNode<...>[]; } & { ...; })[K]> extends (props: infer P) => any ? P ...'.

28       <slot :name="key" :rowData="item" />
          ~~~~

src/components/MyList.vue:32:4 - error TS2345: Argument of type '{}' is not assignable to parameter of type 'NonNullable<({ [PropName in K]: (props: { rowData: T; }) => VNode<RendererNode, RendererElement, { [key: string]: any; }>[]; } & { footer: () => VNode<RendererNode, RendererElement, { ...; }>[]; })["footer"] & (() => VNode<...>[])> extends (props: infer P) => any ? P : {}'.

32   <slot name="footer" />
      ~~~~


Found 2 errors in the same file, starting at: src/components/MyList.vue:28`
```

...

---

## Top Comments

**@KazariEX** [maintainer] (+1):

Please try updating `vue-tsc` to `v3.0.0-alpha.0`.

**@grindpride**:

> Please try updating `vue-tsc` to `v3.0.0-alpha.0`.

Yep, that works well, thx
https://stackblitz.com/edit/vitejs-vite-bpg4gyf6?file=package.json,src%2FApp.vue