---
number: 12088
title: Incorrect vite warning regarding nesting tr directly in table element
type: other
state: open
created: 2024-09-30
url: "https://github.com/vuejs/core/issues/12088"
reactions: 37
comments: 18
labels: "[ p2-edge-case]"
---

# Incorrect vite warning regarding nesting tr directly in table element

### Vue version

3.5.10

### Link to minimal reproduction

https://play.vuejs.org/#eNp9kDELwjAQhf9KuVnqoJMUQcVBBxV1zFLrWatpEpKLFqT/3SSlrYN0CS/vexfe5QMLpeKXRZhBQlgqnhLOmYiihNILb6S/6Hkydkcg4xY51Y/ACMhkUtyKPH4YKdyLHx9nkMlSFRz1XlEhhWEwiwLxLOVcvrfBI21x1PrZHbPnH/9hKu8xOGg0qF/IoGOU6hypwevTDiunO1jKq+UuPQCPaCS3vmMTW1pxdbV/cqHtplRSUyHys1lXhMK0S/miPlmHPAP3rauB1fu6k3ga5pioof4CfnKCSA==

### Steps to reproduce

Create a SFC with this content.

```
<template>
  <table>
    <tr></tr>
  </table>
</template>
```

Vite will issue a warning:

> warning: \<tr> cannot be child of \<table>, according to HTML specifications. This can cause hydration errors or potentially disrupt future functionality.

This warning is factually incorrect.  The relevant spec says that a `<table>` may contain:

> In this order: optionally a caption element, followed by zero or more colgroup elements, followed optionally by a thead element, followed by either zero or more tbody elements or one or more tr elements, followed optionally by a tfoot element, optionally intermixed with one or more script-supporting elements.

This is because htmlNesting.ts does not list `tr` as a valid child of `table`, despite the spec allowing it.

### What is expected?

I expect no warning to be produced.

### What is actually happening?

A warning is produced from vite:

> warning: \<tr> cannot be child of \<table>, according to HTML specifications. This ca...

---

## Top Comments

**@KazariEX** [maintainer] (+21):

```ts
const table = document.createElement('table');
table.innerHTML = '<tr></tr>';
console.log(table.innerHTML);
```

**@tomtheisen** (+13):

At a minimum the warning shouldn't claim that this is due to a spec.  It seems this is constraint introduced by the implementation details of hydration.  It could say something like this.

> Despite being valid HTML, Vue SSR does not support direct nesting of `<tr>` within a `<table>`.  Doing this can cause discrepancies during hydration.

Personally, I'm not using SSR at all, so then I would know it's perfectly safe to ignore this warning.

**@aelgn** (+20):

I'm seeing my stdout absolutely brim-filled with this warning and its accompanying template print out in both dev and build environments, to a point that it swallows and obscures any legitimate warnings.
I do not use SSR so I'm not impacted by the discrepancy between the hydration feature implementation and the html specification.

Could this warning be predicated by SSR actually being used? Or could we disable this warning in any way? (except writing a custom vite logger to filter it out)
If not I think this warning should be removed. Can't really expect everyone to change all table based...